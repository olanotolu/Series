Traceback (most recent call last):
  File "/Users/term_/Series/consumer.py", line 417, in <module>
    print(f"ğŸ“¨ EVENT #{message_count} - {event_type.upper()}")
                                         ^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'upper'
ğŸš€ Series Hackathon Consumer Started
ğŸ“¡ Listening on topic: team.team.e07207a6dba5433ab640f88d27439bd1
ğŸ‘¥ Consumer Group: team-cg-e07207a6dba5433ab640f88d27439bd1-1764994404
ğŸ†” Client ID: team-client-e07207a6dba5433ab640f88d27439bd1
============================================================
ğŸ’¡ Consumer is ready! Send a message from your phone to +16463769330
ğŸ’¡ Or test with: python producer.py 'Test message'
============================================================

============================================================
ğŸ“¨ EVENT #1 - MESSAGE.RECEIVED
============================================================
â° Time: 2025-12-05T22:14:14-06:00
ğŸ“Š Kafka: Partition 2, Offset 30
============================================================
ğŸ” DEBUG: Data keys: ['attachments', 'chat_handles', 'chat_id', 'from_phone', 'id', 'is_read', 'reaction_id', 'sent_at', 'service', 'text']

ğŸ“¥ INCOMING MESSAGE:
   From: +13474591567
   Chat ID: 1702918
   Message ID: 53495962
   Sent At: 2025-12-05 22:14:14 -0600
   Text: 2+2
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ğŸ¤– Getting LLM response...
   âŒ¨ï¸  Typing indicator: ON
ğŸ¤– Initializing Hugging Face Inference API client...
âœ… Hugging Face Inference API client initialized!
   ğŸ¤– Getting LLM response via Inference API...
   ğŸ’¬ LLM Response: 2 + 2 = 4...

ğŸ“¤ OUTGOING MESSAGE:
   Chat ID: 1702918
   Text: 2 + 2 = 4
   âœ… Message ID: 53495993
   Status: 201 - Success
   âŒ¨ï¸  Typing indicator: OFF
   âœ… Response sent successfully
âœ… Event #1 processed successfully
============================================================


============================================================
ğŸ“¨ EVENT #2 - MESSAGE.RECEIVED
============================================================
â° Time: N/A
ğŸ“Š Kafka: Partition 1, Offset 23
============================================================
ğŸ” DEBUG: Data keys: []
âš ï¸  Unknown message format - showing full structure:
   Full data: {}
âœ… Event #2 processed successfully
============================================================


============================================================

âŒ Error in consumer loop: 'NoneType' object has no attribute 'upper'
ğŸ‘‹ Consumer closed
